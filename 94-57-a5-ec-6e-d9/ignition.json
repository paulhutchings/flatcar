{
  "ignition": {
    "version": "3.3.0"
  },
  "passwd": {
    "users": [
      {
        "name": "core",
        "sshAuthorizedKeys": [
          "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCn5exRlpq7WUhbhBwkNbsUBO/7HdpcP3HadkL9/V3ug7fY90QoIIk935JDH5mBfgLblIEUDzSFSUvUVnKe+epETQysPiVSF06+9iz63/uKlr7mrvlmC3Pmh726MLNLpDVqrJ2g4tjmC2iJpyc5sAKoQsJPv/7Pi2DlVOVAs1H7ci3uclnyT2ou13Sj5rImLqcgT22DFqDraEDWlwuMIYr1epxpjbUmx9hjB/SNWXFm/O75naV8LfderZ2WyI1j75rqkDBEXcHYd/SCPM58u9FlHeXJNkxr9rWRGpinqLEuj0hSFdvilKFZtawHSZ4ha4UGWFbywaxoDTsErLg8VGyG7w8m541YjbCKE+/7znbfsv8AqrYj3Hx5oV8SQwKTu75XxvHzmY37QVvPInZiSk1QeKpTUEqVc9duH9zDyNvje/qMtpsSYee/gTGFt+p2SX2kNW4t7PRLG93E9Kcbn/0IjFZ6snXbrOGcuV8ohervtD2Cmzubgi0wlfiltgDQnvs= paul@studiop-dev"
        ]
      }
    ]
  },
  "storage": {
    "disks": [
      {
        "device": "/dev/disk/by-id/ata-SAMSUNG_SSD_PM851_mSATA_512GB_S1EWNSAG207299",
        "partitions": [
          {
            "label": "docker"
          }
        ],
        "wipeTable": true
      }
    ],
    "files": [
      {
        "path": "/opt/bin/docker-compose",
        "contents": {
          "source": "https://github.com/docker/compose/releases/download/v2.5.0/docker-compose-linux-x86_64"
        },
        "mode": 493
      },
      {
        "path": "/opt/docker-compose/portainer.yml",
        "contents": {
          "source": "https://raw.githubusercontent.com/paulhutchings/compose/master/portainer.yml"
        }
      },
      {
        "path": "/etc/NetworkManager/system-connections/1g.nmconnection",
        "contents": {
          "source": "data:;base64,W2Nvbm5lY3Rpb25dCmlkPTFnCnR5cGU9ZXRoZXJuZXQKYXV0b2Nvbm5lY3Q9dHJ1ZQoKW2V0aGVybmV0XQptYWMtYWRkcmVzcz05NDo1NzphNTplYzo2ZTpkOQoKW2lwdjRdCmRucz0xMC4wLjEuMQphZGRyZXNzZXM9MTAuMC4xLjEwLzI0CmdhdGV3YXk9MTAuMC4xLjEK"
        },
        "mode": 384
      },
      {
        "path": "/etc/NetworkManager/system-connections/10g.nmconnection",
        "contents": {
          "source": "data:;base64,W2Nvbm5lY3Rpb25dCmlkPTEwZwp0eXBlPWV0aGVybmV0CmF1dG9jb25uZWN0PXRydWUKCltldGhlcm5ldF0KbWFjLWFkZHJlc3M9MDA6ZTA6NGM6NTE6MjI6MTcKCltpcHY0XQphZGRyZXNzZXM9MTAuMC4xMC4xMC8yNAo="
        },
        "mode": 384
      },
      {
        "path": "/etc/hostname",
        "contents": {
          "source": "data:,coreos"
        },
        "mode": 420
      },
      {
        "path": "/etc/profile.d/systemd-pager.sh",
        "contents": {
          "source": "data:,%23%20Tell%20systemd%20to%20not%20use%20a%20pager%20when%20printing%20information%0Aexport%20SYSTEMD_PAGER%3Dcat%0A"
        },
        "mode": 420
      },
      {
        "path": "/etc/sysctl.d/20-silence-audit.conf",
        "contents": {
          "source": "data:,%23%20Raise%20console%20message%20logging%20level%20from%20DEBUG%20(7)%20to%20WARNING%20(4)%0A%23%20to%20hide%20audit%20messages%20from%20the%20interactive%20console%0Akernel.printk%3D4%0A"
        },
        "mode": 420
      }
    ],
    "filesystems": [
      {
        "device": "/dev/disk/by-id/ata-SAMSUNG_SSD_PM851_mSATA_512GB_S1EWNSAG207299-part1",
        "format": "ext4",
        "path": "/var/lib/docker",
        "wipeFilesystem": false
      }
    ]
  },
  "systemd": {
    "units": [
      {
        "contents": "# Generated by Butane\n[Unit]\nBefore=local-fs.target\nRequires=systemd-fsck@dev-disk-by\\x2did-ata\\x2dSAMSUNG_SSD_PM851_mSATA_512GB_S1EWNSAG207299\\x2dpart1.service\nAfter=systemd-fsck@dev-disk-by\\x2did-ata\\x2dSAMSUNG_SSD_PM851_mSATA_512GB_S1EWNSAG207299\\x2dpart1.service\n\n[Mount]\nWhere=/var/lib/docker\nWhat=/dev/disk/by-id/ata-SAMSUNG_SSD_PM851_mSATA_512GB_S1EWNSAG207299-part1\nType=ext4\n\n[Install]\nRequiredBy=local-fs.target",
        "enabled": true,
        "name": "var-lib-docker.mount"
      },
      {
        "enabled": true,
        "name": "docker.service"
      },
      {
        "dropins": [
          {
            "contents": "[Service]\n# Override Execstart in main unit\nExecStart=\n# Add new Execstart with `-` prefix to ignore failure`\nExecStart=-/usr/sbin/agetty --autologin core --noclear %I $TERM\nTTYVTDisallocate=no\n",
            "name": "autologin-core.conf"
          }
        ],
        "name": "serial-getty@ttyS0.service"
      }
    ]
  }
}
